<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">

    <link rel="stylesheet" href="static/css/main.css">
    <title>Document</title>
</head>

<body>
    <input type="text" id="userInput">
    <button onclick="radar()">Submit</button>
    <div class="col-sm-6 mt-5">
        <div class="chart-container" id="chart-container" style="text-align: -webkit-center ; height:80vh; width:100%">
            <canvas id="Chart"></canvas>
            <p id="chart_text"></p>
        </div>
    </div>
    <script>
        var gg = [
            0.246477863, 1.049680975, 2.657768081, 5.795000451,
            13.18391648, 49.41444573, -57.65018668, -21.09426636,
            -13.03875102, -8.859226936, -5.773245361, -2.957734356,
            -1.59E-15, 3.450690082, 7.87260731, 14.1747631,
            24.62875192, 47.46209932, 156.4790781, -164.7148191, -55.37244921,
            -31.87250248, -20.37622195, -12.5961717, -6.161946576, -6.37E-15
        ]
        var FC = 20;
        var color = "rgb(157,65,32)"
        var numberList = []
        var labels_ = []
        var words;

        function radar() {
            var userTxt = $("#userInput").val();
            var words = userTxt.split(' ');
            for (var i = 0; i < words.length; i++) {
                var _ = []
                for (var n = 0; n < words[i].length; n++) {
                    var word = words[i][n].toLowerCase();
                    if (dn.hasOwnProperty(word)) {
                        _.push(dn[word]);
                    }
                }
                numberList.push(_)
            }
            var mx = 0
            for (var i = 0; i < numberList.length; i++) {
                if (mx < numberList[i].length) {
                    mx = numberList[i].length
                }
            }
            var _q_ = 0
            copyNumberList = []
            for (var i = 0; i < numberList.length; i++) {
                ____ = numberList[i].length
                copyNumberList.push([])
                for (var n = 0; FC >= copyNumberList[i].length; n++) {
                    var ____n____ = []
                    for (var j = 0; j < n; j++) {
                        ____n____.push(undefined);
                    }
                    for (var m = 0; m < ____; m++) {
                        ____n____.push(numberList[i][m]);
                    }
                    copyNumberList[i].push(____n____)
                }
            }


            for (var i = 0; i < copyNumberList.length; i++) {
                if (mx < copyNumberList[i].length) {
                    mx = copyNumberList[i].length
                }
            }
            for (var i = 0; i < FC; i++) {
                labels_.push(i)
            }

            if (color === null) {
                color = getRandomRGBColor()
            }
            var data = {
                labels: labels_,
                datasets: []
            };
            for (var i = 0; i < copyNumberList.length; i++) {
                for(var j = 0; j < copyNumberList[i].length; j++){
                    data.datasets.push({
                    data: copyNumberList[i][j],
                    backgroundColor: color,
                    borderWidth: 1,
                    borderColor: "blue",
                    pointBackgroundColor: 'rgba(0, 0, 0, 0)',
                    pointBorderColor: 'rgba(0, 0, 0, 0)',
                    pointLabelFontSize: 0,
                    pointHitRadius: 0,
                    fill: false
                })
                }
            }

            var radarChart = $("#Chart").get(0).getContext("2d");
            Chart.defaults.borderColor = "rgba(0,0,0,0)";
            Chart.defaults.color = "rgba(0,0,0,0)";
            var newChart = new Chart(radarChart, {
                responsive: false,
                type: 'radar',
                data: data,
                options: {
                    plugins: {
                        legend: {
                            display: false,
                            labels: {
                                color: "rgba(0,0,0,0)"
                            }
                        },
                        title: {
                            display: false
                        }
                    }
                }
            });
        }

    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
        crossorigin="anonymous"></script>

    <script src="https://code.jquery.com/jquery-3.7.1.min.js"
        integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <script type="text/javascript"
        src="https://cdn.jsdelivr.net/npm/chartjs-chart-treemap@2.3.0/dist/chartjs-chart-treemap.min.js"></script>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src='static/js/main.js'></script>

    <script srcs="static/js/main.js"></script>
</body>

</html>